{"version":3,"sources":["webpack:///./src/app/public/login/login.module.ts","webpack:///./src/app/public/login/login.page.html","webpack:///./src/app/public/login/login.page.scss","webpack:///./src/app/public/login/login.page.ts"],"names":[],"mappings":"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","file":"public-login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login.page';\n\nimport {ReactiveFormsModule} from '@angular/forms';\nimport { CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ReactiveFormsModule,\n    ReactiveFormsModule.withConfig({warnOnNgModelWithFormControl: 'never'})\n  ],\n  declarations: [LoginPage],\n  schemas: [\n    CUSTOM_ELEMENTS_SCHEMA\n],\n})\nexport class LoginPageModule {}\n","module.exports = \"  <ion-header no-shadow no-border>\\n    <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button></ion-back-button>\\n      </ion-buttons>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n<ion-content padding>\\n  <div class=\\\"intro\\\">\\n    <img class=\\\"logo\\\" src=\\\"../../../assets/images/Logo-yello.png\\\" alt=\\\"drivix logo\\\"/>\\n    <h1 class=\\\"login-subtitle\\\">WELCOME BACK !</h1>\\n  </div>\\n  \\n<!-- start -->\\n<div [formGroup]=\\\"login_form\\\" class=\\\"login-form\\\">\\n    <ion-item>\\n\\t\\t\\t<ion-label>Email Address </ion-label>\\n\\t\\t\\t<ion-input [(ngModel)]=\\\"data.email\\\" type=\\\"text\\\" formControlName=\\\"email\\\"></ion-input>\\n    </ion-item>\\n    <span class=\\\"error-message\\\" *ngIf=\\\"login_form.controls['email'].hasError('required')  && (login_form.controls['email'].dirty || login_form.controls['email'].touched)\\\">This field is required</span>\\n\\t\\t<span class=\\\"error-message\\\" *ngIf=\\\"login_form.controls['email'].hasError('pattern') && (login_form.controls['email'].dirty || login_form.controls['email'].touched)\\\">Please enter valid email address</span>\\n\\t\\t<ion-item>\\n\\t\\t\\t<ion-label>Password </ion-label>\\n\\t\\t\\t<ion-input [(ngModel)]=\\\"data.password\\\" type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n    </ion-item>\\n    <span class=\\\"error-message\\\" *ngIf=\\\"login_form.controls['password'].hasError('required') && (login_form.controls['password'].dirty || login_form.controls['password'].touched)\\\">This field is required</span>\\n</div>\\n\\n<div class=\\\"errors\\\">\\n    <p class=\\\"error-message general-error\\\" color=\\\"primary\\\" *ngIf=\\\"errors\\\">{{error_msg}}</p>\\n</div>\\n\\n<div class=\\\"forget-link\\\">\\n    <a class=\\\"forget-link\\\" (click)=\\\"presentAlert()\\\">LOST YOUR PASSWORD ?</a>\\n</div>\\n\\n<ion-button class=\\\"login-btn\\\" expand=\\\"block\\\" color=\\\"secondary\\\"\\n (click)=\\\"submitForm()\\\">Login<ion-icon name=\\\"return-right\\\"></ion-icon>\\n</ion-button>\\n\\n <div class=\\\"register-link\\\">\\n    <a class=\\\"regiter-link\\\" routerLink=\\\"/register\\\" routerDirection=\\\"forward\\\">Create New Account</a>\\n</div>\\n\\n<!-- end -->\\n\\n</ion-content>\\n\"","module.exports = \"ion-header {\\n  box-shadow: none; }\\n\\n.intro {\\n  margin: auto;\\n  text-align: center; }\\n\\n.logo {\\n  width: 100px; }\\n\\n.login-subtitle {\\n  font-family: 'Raleway', sans-serif; }\\n\\n.forget-link, .regiter-link {\\n  margin: 15px;\\n  margin-left: 0px;\\n  font-size: 13px;\\n  font-family: 'Titillium Web', sans-serif; }\\n\\n.login-form ion-label, ion-input {\\n  font-family: 'Titillium Web', sans-serif;\\n  color: #3a3c4d;\\n  font-size: 14px; }\\n\\n.login-form ion-input {\\n  color: black; }\\n\\n.login-btn {\\n  font-family: 'Titillium Web', sans-serif;\\n  --border-radius: 0px;\\n  --box-shadow:none;\\n  color: red; }\\n\\n.login-btn ion-icon {\\n  margin-left: 5px; }\\n\\n.register-link {\\n  margin: auto;\\n  text-align: center;\\n  padding-top: 10px;\\n  font-size: 14px;\\n  font-family: 'Titillium Web', sans-serif; }\\n\\n.error-message {\\n  font-size: 13px;\\n  color: var(--ion-color-danger-shade);\\n  font-family: 'Titillium Web', sans-serif;\\n  text-align: right;\\n  margin: 0px;\\n  float: right; }\\n\\n.errors {\\n  height: 30px;\\n  margin: 0px; }\\n\\n.general-error {\\n  display: block;\\n  margin-top: 20px;\\n  margin-bottom: 20px;\\n  float: left; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tbnQvV2luZG93cy9Vc2Vycy9IUC9Eb2N1bWVudHMvUHJvamVjdHMvSW9uaWMvRHJpdml4L3NyYy9hcHAvcHVibGljL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFnQixFQUFBOztBQUVwQjtFQUNJLFlBQVk7RUFDWixrQkFBa0IsRUFBQTs7QUFFdEI7RUFDSSxZQUFZLEVBQUE7O0FBRWhCO0VBQ0ksa0NBQWtDLEVBQUE7O0FBRXRDO0VBQ0ksWUFBWTtFQUNaLGdCQUFnQjtFQUNoQixlQUFlO0VBQ2Ysd0NBQXdDLEVBQUE7O0FBRTVDO0VBQ0ksd0NBQXdDO0VBQ3hDLGNBQWM7RUFDZCxlQUFlLEVBQUE7O0FBRW5CO0VBQ0ksWUFBWSxFQUFBOztBQUVoQjtFQUNJLHdDQUF3QztFQUN4QyxvQkFBZ0I7RUFDaEIsaUJBQWE7RUFDYixVQUFTLEVBQUE7O0FBRWI7RUFDSSxnQkFBZ0IsRUFBQTs7QUFFcEI7RUFDSSxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGlCQUFpQjtFQUNqQixlQUFlO0VBQ2Ysd0NBQXdDLEVBQUE7O0FBRTVDO0VBQ0ksZUFBZTtFQUNmLG9DQUFvQztFQUNwQyx3Q0FBd0M7RUFDeEMsaUJBQWlCO0VBQ2pCLFdBQVU7RUFDVixZQUFZLEVBQUE7O0FBRWhCO0VBQ0ksWUFBWTtFQUNaLFdBQVUsRUFBQTs7QUFFZDtFQUNJLGNBQWM7RUFDZCxnQkFBZ0I7RUFDaEIsbUJBQW1CO0VBQ25CLFdBQVcsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3B1YmxpYy9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taGVhZGVye1xuICAgIGJveC1zaGFkb3c6IG5vbmU7XG59XG4uaW50cm97XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi5sb2dve1xuICAgIHdpZHRoOiAxMDBweDtcbn1cbi5sb2dpbi1zdWJ0aXRsZXtcbiAgICBmb250LWZhbWlseTogJ1JhbGV3YXknLCBzYW5zLXNlcmlmO1xufVxuLmZvcmdldC1saW5rLCAucmVnaXRlci1saW5re1xuICAgIG1hcmdpbjogMTVweDtcbiAgICBtYXJnaW4tbGVmdDogMHB4O1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBmb250LWZhbWlseTogJ1RpdGlsbGl1bSBXZWInLCBzYW5zLXNlcmlmO1xufVxuLmxvZ2luLWZvcm0gaW9uLWxhYmVsLCBpb24taW5wdXR7XG4gICAgZm9udC1mYW1pbHk6ICdUaXRpbGxpdW0gV2ViJywgc2Fucy1zZXJpZjtcbiAgICBjb2xvcjogIzNhM2M0ZDtcbiAgICBmb250LXNpemU6IDE0cHg7XG59XG4ubG9naW4tZm9ybSBpb24taW5wdXR7XG4gICAgY29sb3I6IGJsYWNrO1xufVxuLmxvZ2luLWJ0bntcbiAgICBmb250LWZhbWlseTogJ1RpdGlsbGl1bSBXZWInLCBzYW5zLXNlcmlmO1xuICAgIC0tYm9yZGVyLXJhZGl1czogMHB4O1xuICAgIC0tYm94LXNoYWRvdzpub25lO1xuICAgIGNvbG9yOnJlZDtcbn1cbi5sb2dpbi1idG4gaW9uLWljb257XG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcbn1cbi5yZWdpc3Rlci1saW5re1xuICAgIG1hcmdpbjogYXV0bztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZy10b3A6IDEwcHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGZvbnQtZmFtaWx5OiAnVGl0aWxsaXVtIFdlYicsIHNhbnMtc2VyaWY7XG59XG4uZXJyb3ItbWVzc2FnZXtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXItc2hhZGUpO1xuICAgIGZvbnQtZmFtaWx5OiAnVGl0aWxsaXVtIFdlYicsIHNhbnMtc2VyaWY7XG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgbWFyZ2luOjBweDtcbiAgICBmbG9hdDogcmlnaHQ7XG59XG4uZXJyb3Jze1xuICAgIGhlaWdodDogMzBweDtcbiAgICBtYXJnaW46MHB4O1xufVxuLmdlbmVyYWwtZXJyb3J7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIGZsb2F0OiBsZWZ0O1xufSJdfQ== */\"","import {Component} from '@angular/core';\nimport {AlertController, NavController} from '@ionic/angular';\nimport {AuthenticationService} from '../../api/authentication.service';\nimport { Storage } from '@ionic/storage';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport {FormsModule,ReactiveFormsModule} from '@angular/forms';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage {\n  // fields\n   data = {\n        email: '',\n        password: '' ,\n    };\n  // error\n  errors = false;\n  error_msg = \"\";\n\n  login_form: FormGroup;\n\n  // functions\n  constructor(private alertController: AlertController , private Auth: AuthenticationService ,\n              public navCtrl: NavController , private storage: Storage , fb: FormBuilder) {\n                this.login_form = fb.group({\n                  'email': [null, Validators.compose([Validators.required, Validators.pattern(/^(\\d{10}|\\w+@\\w+\\.\\w{2,3})$/)])],\n                  'password': [null, Validators.required]\n                }, {\n                  // updateOn: 'blur'\n                });\n  }\n// ____________________________________________________\nsubmitForm() {\n  for (let v in this.login_form.controls) {\n    this.login_form.controls[v].markAsTouched();\n  }\n  if (this.login_form.valid) {\n    this.login();\n  }\n};\n  // ____________________________________________________\n\n    ionViewWillEnter() {\n        // check if token set or not\n        this.storage.get('token').then((val) => {\n            if (val != null) {\n                AuthenticationService.User = true;\n                this.navCtrl.navigateForward('/members/menu/services');\n            }\n        });\n    }\n  // login function\n    login() {\n      // some validation here\n        if (this.data.email == null || this.data.email === '') {\n        } else {\n          // console.log('email is set successfully' + this.data.email);\n        }\n        // send request to the web service here\n        this.Auth.Login(this.data)\n            .then(success => {\n               AuthenticationService.User = success;\n                // @ts-ignore\n                if (success) {\n                    // @ts-ignore\n                    this.storage.set('token', success.token);\n                    this.navCtrl.navigateForward('/members/menu/services');\n                }\n            })\n            .catch(err => {\n                this.error_msg = \"INCORRECT E-MAIL OR PASSWORD, TRY AGAIN\";\n                this.errors=true;\n            });\n    }\n  // forget password function\n  async presentAlert() {\n    const alert = await this.alertController.create({\n      header: 'Forget your password?',\n      message: 'Enter your e-mail to reset your password:',\n      inputs: [\n        {\n          name: 'email',\n          type: 'text',\n          placeholder: 'Enter your e-mail'\n        }],\n      buttons: ['Send']\n    });\n    await alert.present();\n  }\n}\n"],"sourceRoot":""}